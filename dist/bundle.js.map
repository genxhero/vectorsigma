{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/evil_block.js","webpack:///./src/game.js","webpack:///./src/game_field.js","webpack:///./src/game_sprite.js","webpack:///./src/hedronattack.js","webpack:///./src/hero_sprite.js","webpack:///./src/ki_blash.js","webpack:///./src/ki_orb.js","webpack:///./src/land_block.js","webpack:///./src/punch.js"],"names":["GameSprite","require","HeroSprite","LandBlock","EvilBlock","params","type","speed","hp","hitboxHeight","hitboxWidth","isagoddamnblock","blockImage","Image","src","height","width","image","draw","bind","onload","loaded","ctx","drawImage","posX","posY","obstacle","hitPojo","takeDamage","remove","explody","hit","striker","strikee","strikerX","strikerY","game","hero","touchingBlock","smack","Audio","play","landy","landblocks","push","kaboosh","then","module","exports","PowerOrb","KiBlast","Punch","Game","Key","over","collected","punches","lastBlockX","blocks","addBlock","powerOrbs","kiBlasts","drawField","grassLoaded","skyLoaded","pillarsLoaded","drawFrame","concat","sprites","allSprites","idx1","length","idx2","hitDetected","console","log","handleCollision","newBlock","Math","floor","random","newOrb","grass","grassLoad","pattern","createPattern","fillStyle","fillRect","sky","skyLoad","leftPillar","rightPillar","loadPillars","i","update","bgm","setInterval","addPowerOrbs","addHero","alert","style","color","kp","document","location","reload","requestAnimationFrame","detectCollision","clearRect","canvas","getElementById","innerText","styleHp","kills","killScore","score","styleKp","moveBlocks","standbyLandblocks","moveOrbs","moveBlasts","sprite","splice","indexOf","info","innerHTML","undefined","direction","targetHP","posx","GameField","_pressed","LEFT","RIGHT","KI","PUNCH","isDown","keyCode","onKeydown","event","onKeyup","window","addEventListener","getContext","options","facing","tink","currentTime","paused","pause","grabOrb","stillAlive","grunt","deathCry","setTimeout","lose","goLeft","goRight","kiBlast","punch","blast","oom","kiai","object","blastImage","punchImage","strike"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/hedronattack.js\");\n","const GameSprite = require('./game_sprite');\r\nconst HeroSprite = require('./hero_sprite');\r\nconst LandBlock = require('./land_block');\r\n\r\n\r\n\r\nclass EvilBlock extends GameSprite {\r\n    constructor(params){\r\n        super(params)\r\n        this.type = \"Evil Block\";\r\n        this.speed = 10;\r\n        this.hp = 3;\r\n        this.hitboxHeight = 100;\r\n        this.hitboxWidth = 100;\r\n        this.isagoddamnblock = true;\r\n        const blockImage = new Image();\r\n        blockImage.src = \"https://i.imgur.com/6M3wxOW.png\";\r\n        blockImage.height = 100;\r\n        blockImage.width = 100;\r\n        this.image = blockImage;\r\n        this.draw = this.draw.bind(this);\r\n        this.image.onload = () => {\r\n            this.loaded = true;\r\n        };\r\n       \r\n    }\r\n\r\n  draw(ctx) {\r\n    if (this.loaded) {\r\n       ctx.drawImage(this.image, this.posX, this.posY);\r\n     }\r\n  }\r\n\r\n    handleCollision(obstacle, hitPojo){\r\n        if (obstacle instanceof HeroSprite && hitPojo.type === \"overhead\") {\r\n            obstacle.takeDamage();\r\n            this.remove();\r\n        }\r\n\r\n        if (obstacle instanceof LandBlock && hitPojo.type === \"overhead\") {\r\n            // console.log(\"Block destroys land block\");\r\n            obstacle.explody();\r\n        }\r\n    }\r\n\r\n    hitDetected(obstacle) {\r\n        if (this === obstacle) {\r\n            return {hit: false};\r\n        }\r\n\r\n        if (\r\n            this.posX < (obstacle.posX + obstacle.hitboxWidth) &&\r\n            // this.posX + this.hitboxWidth <= (obstacle.posX + obstacle.hitboxWidth) && \r\n            (this.posX + this.hitboxWidth) > obstacle.posX &&\r\n            this.posY + this.hitboxHeight === obstacle.posY) {\r\n\r\n            return { hit: true, type: \"overhead\", striker: this.type, strikee: obstacle.type, strikerX: this.posX, strikerY: this.posY};\r\n            } else {\r\n                return {hit: false};\r\n            }\r\n    }\r\n\r\n\r\n\r\n\r\n    remove() {\r\n        this.game.hero.touchingBlock = false;\r\n        this.game.remove(this);\r\n    }\r\n\r\n    update(ctx){\r\n        if ((this.posY) < 350) {\r\n            this.posY += this.speed;\r\n            this.draw(ctx);\r\n        } else if( this.posY >= 350 ){\r\n            const smack = new Audio();\r\n            smack.src = \"https://www.freesfx.co.uk/rx2/mp3s/6/18365_1464637302.mp3\";\r\n            smack.play();\r\n            const landy = new LandBlock ({hp: this.hp, posX: this.posX, posY: this.posY, game: this.game});\r\n            this.game.remove(this);        \r\n            ctx.drawImage(landy.image, this.posX, this.posY);\r\n            this.game.landblocks.push(landy);\r\n        }\r\n    }\r\n\r\n    explody(){\r\n        this.speed = 0;\r\n        \r\n        const kaboosh = new Audio();\r\n        kaboosh.src = \"https://www.freesfx.co.uk/rx2/mp3s/6/17955_1464205617.mp3\";\r\n        kaboosh.play().then(this.game.remove(this));\r\n        // this.game.remove(this);\r\n    }\r\n\r\n}\r\nmodule.exports = EvilBlock;","const EvilBlock = require('./evil_block');\r\nconst PowerOrb = require('./ki_orb');\r\nconst HeroSprite = require('./hero_sprite');\r\nconst KiBlast = require('./ki_blash');\r\nconst Punch = require('./punch');\r\nconst LandBlock = require('./land_block');\r\n\r\nclass Game {\r\n    constructor(ctx, Key){\r\n        this.over = false;\r\n\r\n        this.collected = 0;\r\n        this.punches = [];\r\n        this.lastBlockX = 300;\r\n        this.blocks = [];\r\n        this.landblocks = [];\r\n        this.addBlock = this.addBlock.bind(this);\r\n        this.powerOrbs = [];\r\n        this.kiBlasts = [];\r\n        this.ctx = ctx;\r\n        this.Key = Key;\r\n        // alert(this.Key);\r\n        this.drawField();\r\n        this.grassLoaded = false;\r\n        this.skyLoaded = false;\r\n        this.pillarsLoaded=false;\r\n        this.drawFrame.bind(this)();\r\n    }\r\n\r\n    allSprites() {\r\n        return [].concat([this.hero], this.blocks, this.kiBlasts, this.punches, this.landblocks, this.powerOrbs);\r\n       \r\n    }\r\n\r\n    detectCollision(){\r\n        const sprites = this.allSprites();\r\n        // debugger;\r\n        for (let idx1 = 0; idx1 < sprites.length; idx1++){\r\n            for (let idx2 = 0; idx2 < sprites.length; idx2++ ){\r\n                \r\n                let striker = sprites[idx1];\r\n                let strikee = sprites[idx2];\r\n                if (idx1 === idx2) {\r\n                    continue;\r\n                }\r\n                if (striker instanceof EvilBlock && strikee instanceof EvilBlock) {\r\n                    continue;\r\n                }\r\n\r\n                if (striker instanceof KiBlast && strikee instanceof KiBlast) {\r\n                    continue;\r\n                }\r\n\r\n                if (striker instanceof HeroSprite && strikee instanceof HeroSprite) {\r\n                    continue;\r\n                }\r\n\r\n                if (striker instanceof Punch && strikee instanceof Punch) {\r\n                    continue;\r\n                }\r\n                if (striker instanceof PowerOrb && strikee instanceof PowerOrb) {\r\n                    continue;\r\n                }\r\n                let hitPojo = striker.hitDetected(strikee);\r\n                if (hitPojo.hit){\r\n                  if (hitPojo.type != \"overhead\")\r\n                    console.log(hitPojo);\r\n                    \r\n                    let type = hitPojo.type;\r\n                    \r\n                    let hit = striker.handleCollision(strikee, hitPojo);\r\n                    if (hit) return ;\r\n        }\r\n      }\r\n     }\r\n    }\r\n\r\n    addHero(){\r\n      const hero = new HeroSprite({\r\n        game: this,\r\n        posX: 350,\r\n        posY: 300\r\n      });\r\n    //   debugger;\r\n      this.hero = hero;\r\n      hero.draw(this.ctx);\r\n\r\n    }\r\n\r\n    addBlock(){\r\n       let newBlock = new EvilBlock({\r\n         game: this,\r\n         posY: -50,\r\n         posX: Math.floor(Math.random() * 600) + 50\r\n       });\r\n       this.blocks.push(newBlock);\r\n       newBlock.draw(this.ctx);\r\n    }\r\n\r\n    addPowerOrbs(){\r\n        let newOrb = new PowerOrb({\r\n            game: this,\r\n            posY: -50,\r\n            posX: Math.floor(Math.random() * 600) + 50\r\n        });\r\n        this.powerOrbs.push(newOrb);\r\n        newOrb.draw(this.ctx);\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n    grassLoad(){\r\n\r\n        this.grass = new Image();\r\n        this.grass.src = 'https://cmkt-image-prd.global.ssl.fastly.net/0.1.0/ps/2824633/300/200/m1/fpnw/wm0/1601.m10.i311.n029.s.c10.164511620-seamles-.jpg?1497007612&s=843a14180b1390bf4585dd7e668e1683';\r\n        const grassLoad = () => {\r\n            console.log(\"LINE 32: We are in the grass load function\");\r\n            let pattern = this.ctx.createPattern(this.grass, 'repeat');\r\n            this.ctx.fillStyle = pattern;\r\n            this.ctx.fillRect(0, 400, 800, 100);\r\n        };\r\n        this.grass.onload = function () { grassLoad() };\r\n     }\r\n\r\n    skyLoad(){\r\n        this.sky = new Image();\r\n        this.sky.src = 'https://i.imgur.com/MbBpcOx.png';\r\n        const skyLoad = () => {\r\n        this.ctx.drawImage(this.sky, 0, -50);\r\n        };\r\n\r\n        this.sky.onload = function () { skyLoad() };\r\n    }\r\n\r\n    loadPillars(){\r\n        this.leftPillar= new Image();\r\n        this.leftPillar.src = \"https://i.imgur.com/UibkSXB.png\";\r\n        this.rightPillar = new Image();\r\n        this.rightPillar.src = \"https://i.imgur.com/UibkSXB.png\";\r\n        const loadPillars = () => {\r\n            this.ctx.drawImage(this.leftPillar, 0, 0);\r\n            this.ctx.drawImage(this.rightPillar, 750, 0)\r\n        };\r\n        this.rightPillar.onload = function () {loadPillars ();}\r\n        this.leftPillar.onload = function () {loadPillars() };\r\n    }\r\n\r\n    moveBlocks(){\r\n       for(i in this.blocks) {\r\n          this.blocks[i].update(this.ctx);\r\n       }\r\n    }\r\n\r\n    moveBlasts(){\r\n        for(i in this.kiBlasts) {\r\n            this.kiBlasts[i].update(this.ctx);\r\n        }\r\n    }\r\n  \r\n   \r\n\r\n    \r\n   drawField(){\r\n       const bgm = new Audio(\"https://s3.us-east-2.amazonaws.com/hedronattack/brahms_bgm_short.m4a\");\r\n       bgm.play();\r\n        this.grassLoad();\r\n        this.skyLoad();\r\n        this.loadPillars();\r\n        \r\n        // back to 500 after testing.\r\n       setInterval(() => this.addPowerOrbs(), 2000);\r\n       setInterval(() => this.addBlock(), 500);\r\n        this.addHero();  \r\n        alert(\"The evil Hedronites are making a desperate attack! Fight, Kam! For great justice!\");\r\n    \r\n\r\n   }\r\n\r\n   styleHp(hp){\r\n       if (this.hero.hp >= 80){\r\n           hp.style.color = \"chartreuse\";\r\n       } else if (this.hero.hp < 80 && this.hero.hp > 30) {\r\n           hp.style.color = \"yellow\";\r\n       } else {\r\n           hp.style.color = \"red\";\r\n       }\r\n   }\r\n\r\n   styleKp(kp){\r\n       kp.style.color = \"cyan\";\r\n   }\r\n\r\n   standbyLandblocks(){\r\n       for (i in this.landblocks) {\r\n           this.landblocks[i].update(this.ctx);\r\n       }\r\n   }\r\n\r\n   moveOrbs(){\r\n       for (i in this.powerOrbs) {\r\n           this.powerOrbs[i].update(this.ctx);\r\n       }\r\n   }\r\n\r\n   lose(){\r\n       alert(\"GAME OVER\");\r\n       document.location.reload();\r\n       return;\r\n   }\r\n   \r\n   drawFrame(){\r\n       requestAnimationFrame(this.drawFrame.bind(this));\r\n       this.detectCollision();\r\n      //detect collsion at beginning before last change\r\n       if (this.over) {\r\n           alert(\"GAME OVER\");\r\n           document.location.reload();\r\n           return;\r\n       } else {\r\n           this.hero.touchingBlock = false;\r\n           this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n           let pattern = this.ctx.createPattern(this.grass, 'repeat');\r\n           this.ctx.fillStyle = pattern;\r\n           this.ctx.fillRect(0, 400, 800, 100);\r\n           let hp = document.getElementById('hero-hp')\r\n           hp.innerText = `${this.hero.hp}`;\r\n           this.styleHp(hp);\r\n\r\n           let kills = document.getElementById('hero-kills');\r\n           kills.innerText = `${this.hero.killScore}`\r\n           let score = document.getElementById('hero-orbs');\r\n           score.innerText = `${this.collected}`;\r\n           let kp = document.getElementById('hero-kp');\r\n           kp.innerText = `${this.hero.kp}`;\r\n           this.styleKp(kp);\r\n        //    debugger;\r\n           this.ctx.drawImage(this.sky, 0, -50);\r\n           this.ctx.drawImage(this.leftPillar, 0, 0);\r\n           this.ctx.drawImage(this.rightPillar, 750, 0)\r\n           this.moveBlocks();\r\n           this.standbyLandblocks();\r\n           this.moveOrbs();\r\n           this.hero.update(this.Key);\r\n           this.hero.draw(this.ctx);\r\n           this.moveBlasts();\r\n       }\r\n  \r\n      \r\n   }\r\n   remove(sprite){\r\n       if (sprite instanceof EvilBlock){\r\n           this.blocks.splice(this.blocks.indexOf(sprite), 1);\r\n       }\r\n       if (sprite instanceof KiBlast){\r\n           this.kiBlasts.splice(this.kiBlasts.indexOf(sprite), 1);\r\n       }\r\n       if (sprite instanceof Punch){\r\n           this.punches.splice(this.punches.indexOf(sprite), 1);\r\n       }\r\n       if (sprite instanceof LandBlock){\r\n           this.landblocks.splice(this.landblocks.indexOf(sprite), 1);\r\n       }\r\n       if (sprite instanceof PowerOrb ){\r\n           this.powerOrbs.splice(this.powerOrbs.indexOf(sprite), 1);\r\n       }\r\n   }\r\n\r\n    grabOrb() {\r\n        this.collected += 1;\r\n        this.hero.hp += 10;\r\n        if (this.collected === 10) {\r\n            let info = document.getElementById('game-message');\r\n            info.innerHTML = \"A WINNER IS YOU!\";\r\n\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = Game;\r\n\r\n\r\n\r\n\r\n// SPECIAL THANKS TO PAUL IRISH FOR HIS BOILERPLATE FUNCTION!\r\n// window.requestAnimFrame = (function () {\r\n//     return window.requestAnimationFrame ||\r\n//         window.webkitRequestAnimationFrame ||\r\n//         window.mozRequestAnimationFrame ||\r\n//         window.oRequestAnimationFrame ||\r\n//         window.msRequestAnimationFrame ||\r\n//         function (callback) {\r\n//             window.setTimeout(callback, 1000 / 60);\r\n//         };\r\n// })(); \r\n\r\n\r\n","// document.addEventListener(\"DOMContentLoaded\", () => {\r\n\r\n\r\n\r\n\r\n//     const grass = new Image();\r\n//     grass.src = 'https://cmkt-image-prd.global.ssl.fastly.net/0.1.0/ps/2824633/300/200/m1/fpnw/wm0/1601.m10.i311.n029.s.c10.164511620-seamles-.jpg?1497007612&s=843a14180b1390bf4585dd7e668e1683';\r\n\r\n//     const grassLoad = () => {\r\n//         console.log(\"LINE 32: We are in the grass load function\");\r\n//         let pattern = ctx.createPattern(grass, 'repeat');\r\n//         ctx.fillStyle = pattern;\r\n//         ctx.fillRect(0, 400, 800, 100);\r\n//     };\r\n\r\n//     grass.onload = function () { grassLoad() };\r\n\r\n//     const sky = new Image();\r\n//     sky.src = 'https://i.imgur.com/MbBpcOx.png';\r\n//     const skyLoad = () => {\r\n//         console.log(\"LINE 21: I'm loading the sky\");\r\n\r\n//         ctx.drawImage(sky, 0, -50);\r\n//     };\r\n\r\n//     sky.onload = function () { skyLoad() };\r\n//     console.log\r\n\r\n//     //dummy hero sprite for size testing\r\n//     const hero = new Image();\r\n//     hero.src = 'https://i.imgur.com/FFUUbTi.png';\r\n//     const heroLoad = () => {\r\n//         console.log(\"LINE 33: Drawing heroic rectangle\");\r\n//         ctx.drawImage(hero, 350, 350);\r\n//         //ctx.fillRect(350, 300, 100, 150);\r\n//     };\r\n//     console.log(\"LINE 37: Past the hero load\");\r\n//     window.heroLoad = window.heroLoad;\r\n//     hero.onload = () => { heroLoad() };\r\n\r\n\r\n//     for (let squares = 0; squares < 5; squares++) {\r\n//         let x = (squares * 110) + Math.random;\r\n//         let y = 10;\r\n//         ctx.fillStyle = \"gray\";\r\n//         ctx.fillRect(x, y, 100, 100);\r\n//     }\r\n\r\n\r\n\r\n\r\n\r\n// });","class GameSprite {\r\n    constructor(params) {\r\n        this.posX = params.posX;\r\n        this.posY = params.posY;\r\n        this.hitboxWidth = params.hitboxWidth;\r\n        this.hitboxHeight = params.hitboxHeight;\r\n        this.speed = params.speed;\r\n        this.image = params.image;\r\n        this.game = params.game;\r\n    }\r\n\r\n    handleCollision(obstacle) {\r\n\r\n    }\r\n\r\n    draw(ctx){\r\n        console.log(this.image);\r\n        console.log(`X: ${this.posX}, Y: ${this.posY}`);\r\n        ctx.drawImage(this.image, this.posX, this.posY);\r\n    };\r\n\r\n    hitDetected(obstacle) {\r\n        \r\n        if (obstacle === undefined){\r\n            return {hit: false};\r\n        }\r\n         if (this === obstacle){\r\n             return { hit: false };\r\n         }\r\n         \r\n        if (this.posX >= obstacle.hitboxWidth && \r\n            this.posX < (obstacle.posX + obstacle.hitboxWidth) &&\r\n            // this.posX + this.hitboxWidth <= (obstacle.posX + obstacle.hitboxWidth) && \r\n           ( this.posX + this.hitboxWidth ) > obstacle.posX &&\r\n             this.posY + this.hitboxHeight === obstacle.posY) {\r\n             \r\n          return {hit: true, type: \"overhead\", striker: this.type, strikee: obstacle.type};\r\n\r\n\r\n        } else if ( \r\n        //     (obstacle.posY + obstacle.hitboxHeight) >= this.posY &&\r\n        //  (   this.posx < (obstacle.posX + obstacle.hitboxWidth) ||\r\n        //   (  this.posX + this.hitboxWidth ) > obstacle.posX ) &&\r\n        //     this.posX > obstacle.posX\r\n            this.posX >= obstacle.hitboxWidth &&\r\n            this.posX < (obstacle.posX + obstacle.hitboxWidth) &&\r\n            (this.posX + this.hitboxWidth) > obstacle.posX &&\r\n            this.posY < obstacle.posY + obstacle.hitboxHeight &&\r\n             this.posX + (this.hitboxWidth / 2 ) > obstacle.posX\r\n             )\r\n            {\r\n            return {hit: true, type: \"sidestrike\", striker: this.type, strikee: obstacle.type, direction: \"left\", targetHP: obstacle.hp};\r\n            \r\n        } else if (\r\n            (obstacle.posY + obstacle.hitboxHeight) > this.posY &&\r\n         (   this.posx < (obstacle.posX + obstacle.hitboxWidth) ||\r\n         (this.posX + this.hitboxWidth ) > obstacle.posX ) && \r\n            this.posX < obstacle.posX\r\n                 ) {\r\n            console.log(\"TargetHP:\", obstacle.hp);\r\n            return { hit: true, type: \"sidestrike\", striker: this.type, strikee: obstacle.type, direction: \"right\", targetHP: obstacle.hp };\r\n               } else {\r\n                 return { hit: false };\r\n               }\r\n }\r\n     \r\n  \r\n\r\n\r\n}\r\n\r\nmodule.exports = GameSprite;","const Game = require(\"./game\");\r\nconst GameField = require(\"./game_field\");\r\n\r\nconst Key = {\r\n  //Special thanks to Arthur Schreiber\r\n  _pressed: {},\r\n  LEFT: 65,\r\n  RIGHT: 68,\r\n  KI: 75,\r\n  PUNCH: 80,\r\n  isDown: function(keyCode) {\r\n    return this._pressed[keyCode];\r\n  },\r\n  onKeydown: function(event) {\r\n    this._pressed[event.keyCode] = true;\r\n  },\r\n  onKeyup: function(event) {\r\n    delete this._pressed[event.keyCode];\r\n  }\r\n};\r\n\r\nwindow.addEventListener('keyup',  (event) => {\r\n     Key.onKeyup(event); \r\n    }, false);\r\nwindow.addEventListener('keydown',  (event) => {\r\n     Key.onKeydown(event); \r\n    }, false);\r\n\r\n\r\n\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const canvas = document.getElementById(\"canvas\");\r\n  const ctx = canvas.getContext(\"2d\");\r\n  const game = new Game(ctx, Key);\r\n  // game.drawField();\r\n   window.ctx = ctx;\r\n  \r\n            \r\n});\r\n","const GameSprite = require('./game_sprite');\r\nconst EvilBlock = require('./evil_block');\r\nconst KiBlast = require('./ki_blash');\r\nconst Punch = require('./punch');\r\n\r\nclass HeroSprite extends GameSprite {\r\n    constructor(options){\r\n        super(options);\r\n        this.type = \"hero\";\r\n        this.speed = 0;\r\n        this.hp = 120;\r\n        this.kp = 100;\r\n        const image = new Image();\r\n        image.src = \"https://i.imgur.com/JsuhqcT.png\";\r\n        image.height = 150;\r\n        image.width = 75;\r\n        this.hitboxHeight = 150;\r\n        this.hitboxWidth = 75;\r\n        this.image = image;\r\n        this.touchingBlock = false;\r\n        this.draw = this.draw.bind(this);\r\n        this.facing = \"right\";\r\n        this.killScore = 0;\r\n        this.collected = 0;\r\n        this.image.onload = () => {\r\n             this.loaded = true;\r\n        };\r\n\r\n    }\r\n\r\n     stillAlive(){\r\n         if (this.hp > 0){\r\n         return true \r\n        } else {\r\n            return false;\r\n        }\r\n     }\r\n\r\n     handleCollision(obstacle, hitPojo){\r\n         console.log(\"Hero hit something.\");\r\n        //  debugger;\r\n         if (obstacle.isagoddamnblock && hitPojo.type === \"sidestrike\" && hitPojo.direction === \"right\"){\r\n             const tink = new Audio();\r\n             tink.src = \"https://s3.us-east-2.amazonaws.com/hedronattack/baseball_short.m4a\";\r\n             if (tink.currentTime <= 0 && tink.paused && obstacle.type === \"Evil Block\") {\r\n                tink.play();\r\n            } else {\r\n                tink.pause();\r\n            }\r\n//document.createElement\r\n             this.posX -= 12;\r\n             if (obstacle.type === \"Evil Block\") {\r\n                 obstacle.posX += 2;\r\n             }\r\n             this.draw(ctx);\r\n\r\n         } else if (obstacle.isagoddamnblock && hitPojo.type === \"sidestrike\" && hitPojo.direction === \"left\"){\r\n             const tink = new Audio();\r\n             tink.src = \"https://s3.us-east-2.amazonaws.com/hedronattack/baseball_short.m4a\";\r\n\r\n             if (tink.currentTime <= 0 && tink.paused && obstacle.type === \"Evil Block\") {\r\n                 tink.play();\r\n             }  else {\r\n                 tink.pause();\r\n             }\r\n\r\n             this.posX += 12;\r\n             if (obstacle.type === \"Evil Block\") {\r\n                 obstacle.posX += 2;\r\n             } else if (obstacle.type === \"orb\" && hitPojo.type === \"sidestrike\"){\r\n                 this.game.grabOrb();\r\n                 obstacle.remove();\r\n             } \r\n              this.draw(ctx);\r\n         }\r\n     }\r\n\r\n  \r\n\r\n    takeDamage(){\r\n        this.hp -= 10;\r\n        if (this.stillAlive()){\r\n            const grunt = new Audio();\r\n            grunt.src = \"https://s3.us-east-2.amazonaws.com/hedronattack/kam_pain.m4a\";\r\n            grunt.play();\r\n        } else {\r\n            this.speed = 0;\r\n            const deathCry = new Audio();\r\n             deathCry.src = \"https://s3.us-east-2.amazonaws.com/hedronattack/kam_death_take_1.m4a\";\r\n             deathCry.play();\r\n            setTimeout(this.game.lose, 500);\r\n            //  this.game.over = true;\r\n        }\r\n      \r\n    }\r\n    draw(ctx){\r\n        // console.log(this.image);\r\n        // console.log(`X: ${this.posX}, Y: ${this.posY}`);\r\n        if (this.loaded) {\r\n            ctx.drawImage(this.image, this.posX, this.posY);\r\n    \r\n        }\r\n       \r\n    }\r\n\r\n    goLeft(){\r\n        this.facing = \"left\";\r\n        if (this.posX > 50) {\r\n            this.posX -= 12;\r\n        }\r\n        this.draw(ctx);\r\n        // this.game.drawFrame();\r\n    }\r\n\r\n    goRight(){\r\n        this.facing = \"right\";\r\n      if (this.posX + 75 < ctx.canvas.width - 52) {\r\n        this.posX += 12;\r\n      }\r\n        this.draw(ctx);\r\n        // this.game.drawFrame();\r\n    }\r\n\r\n    update(Key){\r\n        // console.log(Key);\r\n        \r\n        if (Key.isDown(Key.LEFT)) this.goLeft();\r\n        if (Key.isDown(Key.RIGHT)) this.goRight();\r\n        if (Key.isDown(Key.KI)) {\r\n            Key._pressed[75] = false;\r\n            this.kiBlast();\r\n        }\r\n        if (Key.isDown(Key.PUNCH)) {\r\n            Key._pressed[80] = false;\r\n            this.punch();\r\n        }\r\n    }\r\n    \r\n\r\n   \r\n    kiBlast(){\r\n\r\n        if (this.kp > 0 ){\r\n            if (this.facing === \"left\"){\r\n                this.kp -= 1;\r\n                const blast = new KiBlast({speed: -10, posX: this.posX - 5, game: this.game, direction: \"left\"});\r\n                this.game.kiBlasts.push(blast);\r\n                \r\n            } else {\r\n                this.kp -= 1;\r\n                const blast = new KiBlast({ speed: 10, posX: this.posX + 80, game:this.game, direction: \"right\"});\r\n                this.game.kiBlasts.push(blast);\r\n\r\n            }\r\n     }  else {\r\n         const oom = new Audio();\r\n            oom.src = \"https://s3.us-east-2.amazonaws.com/hedronattack/ki_sapped_take_1.m4a\";\r\n            oom.play();\r\n     }\r\n        this.draw(ctx);\r\n\r\n    }\r\n\r\n\r\n    punch(){\r\n            console.log(\"Punching\");\r\n            const kiai = new Audio();\r\n            kiai.src = \"https://s3.us-east-2.amazonaws.com/hedronattack/kiat_takeone.m4a\";\r\n            kiai.play();\r\n            if (this.facing === \"left\") {\r\n               \r\n                const punch = new Punch({ speed: -10, posX: this.posX -20, game: this.game });\r\n                this.game.punches.push(punch);\r\n            } else {\r\n                \r\n                const punch = new Punch({ speed: 10, posX: this.posX + 75, game: this.game });\r\n                this.game.punches.push(punch);\r\n\r\n            }\r\n    \r\n        this.draw(ctx);\r\n    }\r\n\r\n    remove(object) {\r\n        if (object instanceof EvilBlock) {\r\n            this.blocks.splice(this.blocks.indexOf(object), 1);\r\n        } \r\n    }\r\n}\r\n\r\nmodule.exports = HeroSprite;","const GameSprite = require('./game_sprite');\r\nconst EvilBlock = require('./evil_block');\r\n\r\nclass KiBlast extends GameSprite {\r\n\r\n    constructor(params) {\r\n        super(params)\r\n        this.type = \"kiblast\";\r\n        this.direction = params.direction\r\n        this.hitboxHeight = 10;\r\n        this.hitboxWidth = 40;\r\n        const blastImage = new Image();\r\n        if (this.direction === \"left\") {\r\n            blastImage.src = \"https://i.imgur.com/JTlDHcY.png\";\r\n        } else {\r\n            blastImage.src = \"https://i.imgur.com/ztUamgG.png\";\r\n        }\r\n        //10x10 too small\r\n        blastImage.height = 20;\r\n        blastImage.width = 40;\r\n        this.posY = this.game.hero.posY + 70;\r\n        this.image = blastImage;\r\n        this.draw = this.draw.bind(this);\r\n        this.image.onload = () => {\r\n            this.loaded = true;\r\n        };\r\n\r\n    }\r\n\r\n    update(ctx){\r\n        this.posX += this.speed;\r\n         this.draw(ctx);\r\n         if (this.posX >= ctx.canvas.width || this.posX <= 0) {\r\n             this.remove();\r\n         }\r\n     }\r\n\r\n\r\n\r\n    draw(ctx) {\r\n        if (this.loaded) {\r\n            ctx.drawImage(this.image, this.posX, this.posY);\r\n        }\r\n    }\r\n\r\n    handleCollision(obstacle) {\r\n        if (obstacle.type === \"Evil Block\" || obstacle.type === \"LandBlock\") {\r\n          console.log(\"Hit the block\");\r\n          this.game.hero.killScore += 1;\r\n          obstacle.explody();\r\n          this.remove();\r\n        }\r\n    }\r\n\r\n    remove(){\r\n        this.game.remove(this);\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = KiBlast;","const GameSprite = require('./game_sprite');\r\nconst HeroSprite = require('./hero_sprite');\r\n\r\nclass PowerOrb extends GameSprite {\r\n\r\n constructor(params) {\r\n    super(params)\r\n        this.type = \"orb\";\r\nthis.speed = 10;\r\nthis.hitboxHeight = 20;\r\nthis.hitboxWidth = 20;\r\nthis.isagoddamnblock = true;\r\nconst image = new Image();\r\n     image.src = \"https://i.imgur.com/0qRGch3.png\";\r\nimage.height = 20;\r\nimage.width = 20;\r\nthis.image = image;\r\nthis.draw = this.draw.bind(this);\r\nthis.image.onload = () => {\r\n    this.loaded = true;\r\n};\r\n       \r\n    }\r\n\r\ndraw(ctx) {\r\n    if (this.loaded) {\r\n        ctx.drawImage(this.image, this.posX, this.posY);\r\n    }\r\n}\r\n\r\nhandleCollision(obstacle, hitPojo){\r\n    if (obstacle instanceof HeroSprite && hitPojo.type === \"overhead\") {\r\n        this.game.grabOrb();\r\n        this.remove();\r\n    }\r\n\r\n    \r\n}\r\n\r\nhitDetected(obstacle) {\r\n    if (this === obstacle) {\r\n        return { hit: false };\r\n    }\r\n\r\n    if (\r\n        this.posX < (obstacle.posX + obstacle.hitboxWidth) &&\r\n        (this.posX + this.hitboxWidth) > obstacle.posX &&\r\n        this.posY + this.hitboxHeight === obstacle.posY) {\r\n\r\n        return { hit: true, type: \"overhead\", striker: this.type, strikee: obstacle.type, strikerX: this.posX, strikerY: this.posY };\r\n    } else if (obstacle.type === \"Evil Block\" &&\r\n\r\n        this.posX >= obstacle.posX &&\r\n        this.posX < obstacle.posX + obstacle.hitboxWidth &&\r\n        this.posY === obstacle.posY\r\n    ){\r\n        this.posX += 110;\r\n         return {hit: false}\r\n    } else  {\r\n        return { hit: false };\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nremove() {\r\n    this.game.remove(this);\r\n}\r\n\r\nupdate(ctx){\r\n    if ((this.posY) < 400) {\r\n        this.posY += this.speed;\r\n        this.draw(ctx);\r\n    } else if (this.posY >= 400) {\r\n        this.game.remove(this);\r\n        \r\n    }\r\n}\r\n//\r\n\r\n}\r\n\r\nmodule.exports = PowerOrb;","const GameSprite = require('./game_sprite');\r\nconst HeroSprite = require('./hero_sprite');\r\n\r\n\r\n\r\nclass LandBlock extends GameSprite {\r\n    constructor(params) {\r\n        super(params)\r\n        this.type = \"LandBlock\";\r\n        this.hitboxHeight = 100;\r\n        this.hitboxWidth = 100;\r\n        this.isagoddamnblock = true;\r\n        const blockImage = new Image();\r\n        blockImage.src = \"https://i.imgur.com/fq7m14C.png\";\r\n        blockImage.height = 100;\r\n        blockImage.width = 100;\r\n        this.hp = params.hp;\r\n\r\n        this.image = blockImage;\r\n        this.draw = this.draw.bind(this);\r\n        this.image.onload = () => {\r\n            this.loaded = true;\r\n        };\r\n\r\n    }\r\n\r\n    draw(ctx) {\r\n        if (this.loaded) {\r\n            ctx.drawImage(this.image, this.posX, this.posY);\r\n        }\r\n    }\r\n\r\n    handleCollision(obstacle, hitPojo) {\r\n        \r\n    }\r\n\r\n    hitDetected(obstacle) {\r\n       return {hit: false};\r\n    }\r\n\r\n\r\n\r\n\r\n    remove() {\r\n        // this.game.hero.touchingBlock = false;\r\n        this.game.remove(this);\r\n    }\r\n\r\n    update(ctx) {                \r\n      this.draw(ctx);\r\n    }\r\n\r\n    explody() {\r\n        // this.game.ctx.strokeStyle = \"orange\";\r\n        this.speed = 0;\r\n        \r\n        const kaboosh = new Audio();\r\n        kaboosh.src = \"https://www.freesfx.co.uk/rx2/mp3s/6/17955_1464205617.mp3\";\r\n        kaboosh.play().then(this.game.remove(this));\r\n        // this.game.remove(this);\r\n    }\r\n\r\n}\r\nmodule.exports = LandBlock;","const GameSprite = require('./game_sprite');\r\nconst EvilBlock = require('./evil_block');\r\n\r\nclass Punch extends GameSprite {\r\n\r\n    constructor(params) {\r\n        super(params)\r\n        this.type = \"Punch\";\r\n        this.hitboxHeight = 10;\r\n        this.hitboxWidth = 20;\r\n        const punchImage = new Image();\r\n        punchImage.src = \"https://i.imgur.com/wx7qhXC.png\";\r\n        //10x10 too small\r\n        punchImage.height = 10;\r\n        punchImage.width = 20;\r\n        this.posY = this.game.hero.posY + 70;\r\n        this.image = punchImage;\r\n        this.draw = this.draw.bind(this);\r\n        this.image.onload = () => {\r\n            this.loaded = true;\r\n        };\r\n\r\n    }\r\n\r\n    update(ctx) {\r\n        this.posX += this.speed;\r\n        this.draw(ctx);\r\n        if (this.posX > ctx.canvas.width || this.posX <= 0) {\r\n            this.remove();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    draw(ctx) {\r\n        if (this.loaded) {\r\n            ctx.drawImage(this.image, this.posX, this.posY);\r\n        }\r\n    }\r\n\r\n    handleCollision(obstacle) {\r\n        if (obstacle.type === \"Evil Block\" || obstacle.type ===\"LandBlock\") {\r\n            console.log(\"punched the block\");\r\n            //add health to Evil Blocks\r\n            const strike = new Audio();\r\n            strike.src = \"https://www.freesfx.co.uk/rx2/mp3s/6/18111_1464287325.mp3\";\r\n            strike.play();\r\n            obstacle.hp -= 1\r\n            if (obstacle.hp === 0){\r\n                this.game.hero.killScore += 1;\r\n                console.log(\"Killed block with fists\");\r\n                obstacle.explody();\r\n            }  \r\n            \r\n        }\r\n        this.remove();\r\n    }\r\n\r\n    remove() {\r\n        this.game.remove(this);\r\n    }\r\n\r\n    \r\n\r\n}\r\n\r\nmodule.exports = Punch;"],"sourceRoot":""}